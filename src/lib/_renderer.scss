@mixin render($tree) {
  @each $key in map-keys($tree) {
    $value: get-token($tree, $key);

    @if type-of($value) == "map" {
      @if str-index($key, "@media") == 1 {
        @media #{str-slice($key, 8)} {
          @include render($value);
        }
      } @else {
        #{$key} {
          @include render($value);
        }
      }
    } @else {
      #{unquote($key)}: $value;
    }
  }
}

@mixin apply($util-list) {
  @each $util-name in $util-list {
    @each $key, $value in get-token($css-tree, ".#{$util-name}") {
      #{unquote($key)}: $value;
    }
  }
}

@mixin utilities {
  $built: build-utilities($utilities);
  @include render(build-utilities($utilities));
}
